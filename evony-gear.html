<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Gear Calculator</title>

  <!-- External CSS: use the latest stylesheet -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Paulenski/evony-gear-loadout@main/evony-gear.css">
</head>
<body>
  <div class="container">
    <h1>âš”ï¸ Gear Calculator âš”ï¸</h1>

    <!-- Optional action buttons -->
    <div class="action-buttons">
  <button class="action-button" onclick="clearAll()">ğŸ—‘ï¸ Clear All</button>
</div>

    <!-- Character-centric stage with left and right slot columns -->
    <div class="stage">
  <!-- Left column -->
  <div class="slot-col left">
    <div class="slot-wrap">
      <div class="gear-slot" data-slot="weapon" onclick="openGearModal('weapon')" title="Weapon" aria-label="Weapon">
        <div class="slot-icon" style="display:grid;place-items:center;font-size:28px;">âš”ï¸</div>
        <div class="gear-slot-content"></div>
      </div>
      <div class="slot-caption" data-slot-caption="weapon">Weapon</div>
    </div>

    <div class="slot-wrap">
      <div class="gear-slot" data-slot="chest" onclick="openGearModal('chest')" title="Chest Armor" aria-label="Chest Armor">
        <div class="slot-icon" style="display:grid;place-items:center;font-size:28px;">ğŸ›¡ï¸</div>
        <div class="gear-slot-content"></div>
      </div>
      <div class="slot-caption" data-slot-caption="chest">Chest Armor</div>
    </div>

    <div class="slot-wrap">
      <div class="gear-slot" data-slot="boots" onclick="openGearModal('boots')" title="Boots" aria-label="Boots">
        <div class="slot-icon" style="display:grid;place-items:center;font-size:28px;">ğŸ‘¢</div>
        <div class="gear-slot-content"></div>
      </div>
      <div class="slot-caption" data-slot-caption="boots">Boots</div>
    </div>
  </div>

  <!-- Right column -->
  <div class="slot-col right">
    <div class="slot-wrap">
      <div class="gear-slot" data-slot="helmet" onclick="openGearModal('helmet')" title="Helmet" aria-label="Helmet">
        <div class="slot-icon" style="display:grid;place-items:center;font-size:28px;">ğŸª–</div>
        <div class="gear-slot-content"></div>
      </div>
      <div class="slot-caption" data-slot-caption="helmet">Helmet</div>
    </div>

    <div class="slot-wrap">
      <div class="gear-slot" data-slot="legs" onclick="openGearModal('legs')" title="Leg Armor" aria-label="Leg Armor">
        <div class="slot-icon" style="display:grid;place-items:center;font-size:28px;">ğŸ‘–</div>
        <div class="gear-slot-content"></div>
      </div>
      <div class="slot-caption" data-slot-caption="legs">Leg Armor</div>
    </div>

    <div class="slot-wrap">
      <div class="gear-slot" data-slot="ring" onclick="openGearModal('ring')" title="Ring" aria-label="Ring">
        <div class="slot-icon" style="display:grid;place-items:center;font-size:28px;">ğŸ’</div>
        <div class="gear-slot-content"></div>
      </div>
      <div class="slot-caption" data-slot-caption="ring">Ring</div>
    </div>
  </div>
</div>

    <!-- Stats Summary -->
    <div class="stats-summary">
<span id="totalsCondensed" class="totals-condensed"></span>
      <div id="statsDisplay">
        <p style="text-align:center;color:#888;">Equip items to see stats</p>
      </div>
    </div>

    <!-- Set Bonuses -->
    <div class="set-bonuses">
      <h2>âœ¨ Set Bonuses</h2>
      <div class="bonus-grid" id="bonusDisplay">
        <p style="text-align:center;color:#888;grid-column:1/-1;">No set bonuses active</p>
      </div>
    </div>
  </div>

  <!-- Modal for item selection -->
  <div id="itemModal" class="modal" aria-hidden="true">
    <div class="modal-content" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
      <div class="modal-header">
        <h2 id="modalTitle">Select Item</h2>
        <span class="close" onclick="closeModal()" role="button" aria-label="Close">Ã—</span>
      </div>
      <div id="modalBody">
        <div class="loading">Loading items...</div>
      </div>
    </div>
  </div>

  <!-- External JS: the idempotent script that fetches from your Apps Script backend -->
  <script src="https://cdn.jsdelivr.net/gh/Paulenski/evony-gear-loadout@main/evony-gear.js"></script>
</body>
</html>
